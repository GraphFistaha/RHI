#version 450layout (points) in;layout (triangle_strip, max_vertices = 24) out;layout(location = 0) in mat4 mvp[];layout(location = 4) in int textureIndex[];layout(location = 0) out vec3 fragN;layout(location = 1) out vec2 fragUV;layout(location = 2) out flat int fragTextureIndex;vec3 points[8] = vec3[](    vec3(-0.5, -0.5, 0.5),   // left bottom front    vec3(0.5, -0.5, 0.5),    // right bottom front    vec3(-0.5, -0.5, -0.5),  // left bottom back    vec3(0.5, -0.5, -0.5),   // right bottom back    vec3(-0.5, 0.5, 0.5),    // left top front    vec3(0.5, 0.5, 0.5),     // right top front    vec3(-0.5, 0.5, -0.5),   // left top back    vec3(0.5, 0.5, -0.5)     // right top back);void EmitFace(vec4 p[4], vec3 n){    gl_Position = p[0];    fragUV = vec2(0, 0);    fragN = n;    fragTextureIndex = textureIndex[0];    EmitVertex();    gl_Position = p[1];    fragUV = vec2(1, 0);    fragN = n;    fragTextureIndex = textureIndex[0];    EmitVertex();    gl_Position = p[2];    fragUV = vec2(0, 1);    fragN = n;    fragTextureIndex = textureIndex[0];    EmitVertex();    gl_Position = p[3];    fragUV = vec2(1, 1);    fragN = n;    fragTextureIndex = textureIndex[0];    EmitVertex();    EndPrimitive();}void main() {    vec4 p0 = mvp[0] * vec4(points[0], 1.0); // left bottom front    vec4 p1 = mvp[0] * vec4(points[1], 1.0); // right bottom front    vec4 p2 = mvp[0] * vec4(points[2], 1.0); // left bottom back    vec4 p3 = mvp[0] * vec4(points[3], 1.0); // right bottom back    vec4 p4 = mvp[0] * vec4(points[4], 1.0); // left top front    vec4 p5 = mvp[0] * vec4(points[5], 1.0); // right top front    vec4 p6 = mvp[0] * vec4(points[6], 1.0); // left top back    vec4 p7 = mvp[0] * vec4(points[7], 1.0); // right top back    // negative x    EmitFace(vec4[](p6, p2, p4, p0), vec3(-1, 0, 0));    // negative y    EmitFace(vec4[](p2, p3, p0, p1), vec3(0, -1, 0));    // positive x    EmitFace(vec4[](p3, p7, p1, p5), vec3(1, 0, 0));    // positive y    EmitFace(vec4[](p7, p6, p5, p4), vec3(0, 1, 0));    // negative z    EmitFace(vec4[](p6, p7, p2, p3), vec3(0, 0, -1));    // positive z                       EmitFace(vec4[](p0, p1, p4, p5), vec3(0, 0, 1));}